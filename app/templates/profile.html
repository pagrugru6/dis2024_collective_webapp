<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
</head>
<body>
    <h1>Edit Profile</h1>
    <form method="POST">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" value="{{ user.name }}" required>
        <br>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" value="{{ user.email }}" required>
        <br>
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" value="{{ user.username }}" required>
        <br>
        <label for="bio">Bio:</label>
        <textarea id="bio" name="bio">{{ user.bio }}</textarea>
        <br>
        <label for="location">Location:</label>
        <input type="text" id="location" name="location" value="{{ user.location }}">
        <br>
        <label for="existing_skill">Select Existing Skills:</label>
        <select id="existing_skill" name="existing_skills" multiple style="width: 100%;">
            {% for skill in skills %}
                <option value="{{ skill.id }}" {% if skill.id in user_skill_ids %}selected{% endif %}>{{ skill.name }}</option>
            {% endfor %}
        </select>
        <br>
        <label for="new_skill_name">Or Enter a New Skill:</label>
        <input type="text" id="new_skill_name" name="new_skill_name">
        <br>
        <label for="new_skill_description">Skill Description:</label>
        <textarea id="new_skill_description" name="new_skill_description"></textarea>
        <br>
        <button type="submit">Save Changes</button>
    </form>

    <script>
        $(document).ready(function() {
            $('#existing_skill').select2();
        });
    </script>
</body>
</html>
